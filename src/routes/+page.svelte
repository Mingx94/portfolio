<script lang="ts">
	import Posts from '$lib/components/posts.svelte';
	import {
		albumLink,
		categories,
		links,
		siteDescription,
		siteImage,
		siteName,
		siteTitle,
		siteUrl,
		twitterHandle
	} from '$lib/site/config';
	import Icon from '@iconify/svelte';
	import { createSeparator, melt } from '@melt-ui/svelte';

	const {
		elements: { root }
	} = createSeparator({
		orientation: 'vertical'
	});

	let { data } = $props();
</script>

<svelte:head>
	<!-- HTML Meta Tags -->
	<title>{siteTitle}</title>
	<meta name="description" content={siteDescription} />

	<!-- OG Tags -->
	<meta property="og:type" content="website" />
	<meta property="og:url" content={siteUrl} />
	<meta property="og:title" content={siteTitle} />
	<meta property="og:site_name" content={siteName} />
	<meta property="og:description" content={siteDescription} />
	<meta property="og:image" content={siteImage} />
	<meta property="og:image:width" content="1200" />
	<meta property="og:image:height" content="600" />

	<!-- Twitter Tags -->
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:creator" content={twitterHandle} />
	<meta name="twitter:title" content={siteTitle} />
	<meta name="twitter:description" content={siteDescription} />
	<meta name="twitter:image" content={siteImage} />
</svelte:head>

<section class="site-width flex flex-col px-4 pt-20 sm:px-8">
	<div class="mb-20 flex flex-col items-center gap-6 sm:flex-row">
		<div class="shrink-0 sm:w-3/5">
			<h1 class="mb-6 text-balance text-2xl">
				ä½ å¥½ï¼ŒğŸ‘‹ æˆ‘æ˜¯ Michael Tsaiï¼Œæ˜¯ä¸€åå‰ç«¯å·¥ç¨‹å¸«ã€‚
				é€™é‚Šä¸»è¦åˆ†äº«æˆ‘åœ¨å‰ç«¯é ˜åŸŸçš„å­¸ç¿’å¿ƒå¾—ï¼Œæ“…é•·ä½¿ç”¨Reactã€Next.js é–‹ç™¼ï¼ŒSvelte
				å‰‡æ˜¯æˆ‘ä¸»è¦ä½¿ç”¨åœ¨å€‹äººå°ˆæ¡ˆä¸Šçš„æŠ€è¡“ä¹‹ä¸€ã€‚
				é™¤äº†å‰ç«¯æŠ€è¡“å¤–ï¼Œæˆ‘ä¹Ÿå°æ”å½±æœ‰è‘—æ¿ƒåšçš„èˆˆè¶£ï¼Œæ­¤éƒ¨è½æ ¼ä¹Ÿæœƒåˆ†äº«ä¸€äº›
				<a href="/albums" class="underline underline-offset-4">æ”å½±ä½œå“</a>ã€‚
			</h1>
			<ul class="flex justify-start gap-4">
				{#each links as socialLink}
					<li>
						<a
							href={socialLink.url}
							target="_blank"
							rel="noopener noreferrer nofollow"
							class="flex"
							title={socialLink.name}
							aria-label={socialLink.name}
						>
							<Icon icon={socialLink.icon} class="size-[28px]" aria-hidden />
						</a>
					</li>
				{/each}
				<li>
					<a
						href={albumLink.url}
						class="flex"
						title={albumLink.name}
						aria-label="{albumLink.name}}"
					>
						<Icon icon={albumLink.icon} class="size-[28px]" aria-hidden />
					</a>
				</li>
			</ul>
		</div>

		<figure class="rounded-md bg-card p-2 shadow-lg sm:w-2/5 sm:rotate-2">
			<img src="/home.webp" alt="æ¾æ¹–" class=" rounded-sm" width="600" height="400" />
			<figcaption class="mt-1 text-right text-sm text-main/80">æ¾æ¹– - å—å¯®æµ®çƒç§˜å¢ƒ</figcaption>
		</figure>
	</div>

	<div use:melt={$root} class="mb-10 h-[1px] w-full bg-stone-500"></div>

	<div class="flex gap-8 max-sm:flex-col">
		<div class="sm:flex-grow-[3] sm:basis-0">
			<h2 class="mb-4 text-xl font-semibold">æ–‡ç« åˆ—è¡¨</h2>
			<Posts posts={data.posts} />
		</div>
		<div class="sm:flex-grow-[2] sm:basis-0">
			<h2 class="mb-4 text-xl font-semibold">é¡åˆ¥</h2>
			<ul class="flex flex-wrap gap-2">
				{#each categories as category}
					<li>
						<a href="/blog/category/{category}" class="bg-accent p-1 text-base">
							&num;{category}
						</a>
					</li>
				{/each}
			</ul>
		</div>
	</div>
</section>
